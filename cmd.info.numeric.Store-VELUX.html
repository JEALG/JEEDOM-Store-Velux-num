<div style="padding:0;min-width:98px;min-height:90px;" class="cmd tooltips cmd-widget cursor container-fluid #history# " data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" data-eqLogic_id="#eqLogic_id#" data-eqLogic_id="#eqLogic_id#" title="#collectDate#">
 	<!-- Info Widget
		Basé sur les widget de 	: jayce
		Mise à jour				: JAG 20190317 : Création
	-->
	<center>
	<div class="row">
		<div class="cmdName" id="cmdName#id#" style="font-weight: bold;font-size : 10px; #hideCmdName#;">#name_display# </div>
		<div style="font-size: 2.5em;margin-top:5px;" class="iconCmd"></div>
      	<!-- Historique -->
      		<div style="#displayHistory# font-size : 10px;margin-top:0px;">
      			<span title="Min" class="tooltips">#minHistoryValue##unite#</span>|<span title="Max" class="tooltips">#maxHistoryValue##unite#</span> <i class="#tendance#"></i>
      		</div>
	</div>
	</center>
   	<script>
		// Options de personnalisation avec valeur par defaut
          // Paramètre "sizehw" : à déclarer en pixels - 80 maxi
              	var srcImgHeight 	= (is_numeric('#sizeh#')) 	? parseFloat('#sizeh#') 	: 90;
              	var srcImgWidth		= (is_numeric('#sizew#')) 	? parseFloat('#sizew#') 	: 90;
        // Paramétrage des images
              	var srcImgURL 		= 'plugins/widget/core/template/dashboard/cmd.info.numeric.Store-VELUX/';
      			var srcImglogo		= ('#logo#'!='#'+'logo#') ? "#logo#" : "Store-";
      // Update
			var iconUpdate = function (state){
                $('.cmd[data-cmd_uid=#uid#] .iconCmd').empty();
                  if (state == 0 ) {
                    $('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '0.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 0  && state <= 35 ) {
						$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '10.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 35 && state <= 45) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '20.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 45 && state <= 55) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '30.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 55 && state <= 63) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '40.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 63 && state <= 73 ) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '50.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 73 && state <= 84) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '60.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 84 && state <= 92) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '70.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 92 && state <= 95) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '80.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else if (state > 95 && state <= 100) {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '99.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  } else {
                    	$('.cmd[data-cmd_uid=#uid#] .iconCmd').html('<img src="'+srcImgURL + srcImglogo+ '0.png" style="height:' + srcImgHeight +'px;width:' + srcImgWidth +'px;">');
                  }
              	// Update Value or img
					$('.cmd[data-cmd_uid=#uid#] .state').text(state);
			};
	jeedom.cmd.update['#id#'] = function(_options){
		$('.cmd[data-cmd_uid=#uid#]').attr('title','Valeur du '+_options.valueDate+', collectée le '+_options.collectDate)
		iconUpdate(_options.display_value);
	}
	jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
	</script>

</div>